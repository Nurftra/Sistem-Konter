{% extends "admin/dashboard.html" %}

{% block admin_content %}
<h2 class="text-2xl font-bold text-text_light mb-4">{{ title }}</h2>

<div class="mb-8">
    <h3 class="text-xl font-bold text-accent mb-4">Transaksi Masuk</h3>
    <div class="bg-primary p-4 rounded-lg shadow-md overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-700">
            <thead class="bg-gray-700">
                <tr>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-text_light uppercase tracking-wider">
                        Produk
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-text_light uppercase tracking-wider">
                        Jumlah
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-text_light uppercase tracking-wider">
                        Tanggal Masuk
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-text_light uppercase tracking-wider">
                        Oleh
                    </th>
                </tr>
            </thead>
            <tbody class="bg-secondary divide-y divide-gray-700">
                {% for transaction in incoming_transactions %}
                <tr>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-text_light">
                        {{ transaction.produk.nama }}
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-text_dark">
                        {{ transaction.jumlah }}
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-text_dark">
                        {{ transaction.tanggal_masuk.strftime('%d-%m-%Y %H:%M') }}
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-text_dark">
                        {{ transaction.user.username }}
                    </td>
                </tr>
                {% endfor %}
                {% if not incoming_transactions %}
                <tr>
                    <td colspan="4" class="px-6 py-4 whitespace-nowrap text-sm text-text_dark text-center">Belum ada transaksi masuk.</td>
                </tr>
                {% endif %}
            </tbody>
        </table>
    </div>
</div>

<div class="mb-8">
    <h3 class="text-xl font-bold text-accent mb-4">Transaksi Keluar</h3>
    <div class="bg-primary p-4 rounded-lg shadow-md overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-700">
            <thead class="bg-gray-700">
                <tr>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-text_light uppercase tracking-wider">
                        Produk
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-text_light uppercase tracking-wider">
                        Jumlah
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-text_light uppercase tracking-wider">
                        Tanggal Keluar
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-text_light uppercase tracking-wider">
                        Oleh
                    </th>
                </tr>
            </thead>
            <tbody class="bg-secondary divide-y divide-gray-700">
                {% for transaction in outgoing_transactions %}
                <tr>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-text_light">
                        {{ transaction.produk.nama }}
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-text_dark">
                        {{ transaction.jumlah }}
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-text_dark">
                        {{ transaction.tanggal_keluar.strftime('%d-%m-%Y %H:%M') }}
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-text_dark">
                        {{ transaction.user.username }}
                    </td>
                </tr>
                {% endfor %}
                {% if not outgoing_transactions %}
                <tr>
                    <td colspan="4" class="px-6 py-4 whitespace-nowrap text-sm text-text_dark text-center">Belum ada transaksi keluar.</td>
                </tr>
                {% endif %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
